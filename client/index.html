<!DOCTYPE html>
<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="stylesheets/style.css">
    <link href="https://fonts.googleapis.com/css?family=Rubik&display=swap" rel="stylesheet">
    <meta name="google-signin-client_id" content="194706341651-10pjkv3bskeqf32cf4im5e81uff8qs02.apps.googleusercontent.com">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Check.it</title>
  </head>
  <body>
  <div id="auth-page">
    <div class="container">
      <div class="auth-form-container has-shadow has-padding centered">
        <h4 class="center-text">
          <img class="logo" src="assets/logo.png">
        </h4>
        <div id="register-content" class="hidden">
          <form id="register-form">
            <div class="input-field">
              <i class="material-icons prefix">email</i>
              <input id="register-email" type="text" class="teal-text text-darken-3">
              <label for="register-email" class="teal-text text-accent-4">Email</label>
            </div>
            <div class="input-field">
              <i class="material-icons prefix">lock</i>
              <input id="register-password" type="password" class="teal-text text-darken-3">
              <label for="register-password" class="teal-text text-accent-4">Password</label>
            </div>
            <button type="submit" class="waves-effect waves-light btn full-width teal accent-4 has-margin-b">SIGN UP</button>
            <div class="container centered" style="width: 250px;">
              <div id="my-signin2" class="g-signin2" data-onsuccess="onSignIn"></div>
            </div>
          </form>
          <div class="center-text has-margin">
            <span>Already have an account? <span class="teal-text text-accent-4 clickable" onclick="showLogin()">Sign In</span></span>
          </div>
        </div>
        <div id="login-content">
          <form id="login-form">
            <div class="input-field">
              <i class="material-icons prefix">email</i>
              <input id="login-email" type="text" class="teal-text text-darken-3">
              <label for="login-email" class="teal-text text-accent-4">Email</label>
            </div>
            <div class="input-field">
              <i class="material-icons prefix">lock</i>
              <input id="login-password" type="password" class="teal-text text-darken-3">
              <label for="login-password" class="teal-text text-accent-4">Password</label>
            </div>
            <button type="submit" class="waves-effect waves-light btn full-width teal accent-4">SIGN IN</button>
            <div class="container centered" style="width: 250px;">
              <div id="my-signin2" class="g-signin2" data-onsuccess="onSignIn"></div>
            </div>
          </form>
          <div class="center-text has-margin">
            <span>Don't have an account? <span class="teal-text text-accent-4 clickable" onclick="showRegister()">Sign Up</span></span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="navbar-fixed hidden">
    <nav class="grey lighten-5 has-shadow">
      <div class="container">
        <div class="nav-wrapper">
          <a class="brand-logo teal-text text-accent-4">ALL TASKS</a>
          <a href="#" data-target="mobile-nav" class="sidenav-trigger teal-text text-accent-4"><i class="material-icons">menu</i></a>
          <ul class="right hide-on-med-and-down">
            <li><a href="" onclick="showProjects(event)" class="sidenav-close teal-text text-accent-4">Projects</a></li>
            <li><a href="" onclick="logout(event)" class="sidenav-close grey-text text-ligthen-1">Sign Out</a></li>
            <li><div id="username" class="teal-text text-accent-4">username</div></li>
          </ul>
        </div>
      </div>
    </nav>
  </div>

  <!-- Sidenav -->
  <ul class="sidenav" id="mobile-nav">
    <li><a href="" onclick="showProjects(event)" class="teal-text text-accent-4">Projects</a></li>
    <li><a href="" class="teal-text text-accent-4">Tags</a></li>
    <li><a href="" onclick="logout(event)" class="grey-text text-ligthen-1">Sign Out</a></li>
  </ul>

  <div id="main-page" class="hidden">
    <div class="container">
      <ul class="collection with-header">
        <li class="collection-header">
          <div class="row">
            <div class="col s6 teal-text text-accent-4"><strong>Tasks</strong></div>
            <div class="col s6 right-text">
            </div>
          </div>
        </li>
        <div id="tasks">
        </div>
      </ul>
    </div>

    <div class="fixed-action-btn">
      <div class="container">
        <a href="#modal-add" class="modal-trigger add-button btn-floating btn-large waves-effect waves-light btn full-width teal accent-4">
          <i class="large material-icons">add</i>
        </a>
      </div>
    </div>
  </div>
  
  <div id="projects-page" class="hidden">
    <div id="projects-container" class="container">
    </div>
    <div class="fixed-action-btn">
      <div class="container">
        <a href="#modal-add-project" class="modal-trigger add-button btn-floating btn-large waves-effect waves-light btn full-width teal accent-4">
          <i class="large material-icons">add</i>
        </a>
      </div>
    </div>
    <div id="modal-add-project" class="modal">
      <form id="add-project">
      <div class="modal-content">
        <div class="input-field">
          <input id="add-project-name" type="text" class="teal-text text-darken-3">
          <label for="add-project-name" class="teal-text text-accent-4">Name</label>
        </div>
        <div class="has-padding">
          <button type="submit" class="waves-effect waves-light btn teal accent-4 full-width">
            ADD NEW PROJECT
          </button>
        </div>
        </form>
      </div>
    </div>
  </div>

  <div id="project-page" class="hidden">
    <div class="container">
      <ul class="collection with-header">
        <li class="collection-header">
          <div class="row">
            <div class="col s11 teal-text text-accent-4"><strong>Members</strong></div>
            <div class="col s1 right-text">
              <i href="#modal-add-member" onclick="getUsers()" class="modal-trigger material-icons teal-text text-accent-4 clickable">add</i>
            </div>
          </div>
        </li>
        <div id="members-container" class="has-padding">
        </div>
      </ul>
    </div>
    <div class="container">
      <ul class="collection with-header">
        <li class="collection-header">
          <div class="row">
            <div class="col s6 teal-text text-accent-4"><strong>Tasks</strong></div>
            <div class="col s6 right-text">
            </div>
          </div>
        </li>
        <div id="project-tasks">
        </div>
      </ul>
    </div>

    <div class="fixed-action-btn">
      <div class="container">
        <a href="#modal-add-by-project" class="modal-trigger add-button btn-floating btn-large waves-effect waves-light btn full-width teal accent-4">
          <i class="large material-icons">add</i>
        </a>
      </div>
    </div>
  </div>

  <div id="modal-add" class="modal modal-input">
    <form id="add-task">
    <div class="modal-content">
      <div class="input-field">
        <input id="add-task-name" type="text" class="teal-text text-darken-3">
        <label for="add-task-name" class="teal-text text-accent-4">Name</label>
      </div>
      <div class="input-field">
        <input id="add-task-description" type="text" class="teal-text text-darken-3">
        <label for="add-task-description" class="teal-text text-accent-4">Notes</label>
      </div>
      <div class="input-field">
        <input id="add-task-date" type="text" class="datepicker">
        <label for="add-task-date" class="teal-text text-accent-4">Date</label>
      </div>
      <div class="input-field">
        <input id="add-task-time" type="text" class="timepicker">
        <label for="add-task-time" class="teal-text text-accent-4">Time</label>
      </div>
      </div>
      <div class="has-padding">
        <button type="submit" class="waves-effect waves-light btn teal accent-4 full-width">
          ADD NEW TASK
        </button>
      </div>
      </form>
    </div>
  </div>

  <div id="modal-update" class="modal modal-input">
    <form id="update-task">
    <div class="modal-content">
      <div class="input-field">
        <input id="update-task-id" type="hidden" class="teal-text text-darken-3">
      </div>
      <div class="input-field">
        <input id="update-task-name" type="text" class="teal-text text-darken-3">
        <label for="update-task-name" class="update-label teal-text text-accent-4">Name</label>
      </div>
      <div class="input-field">
        <input id="update-task-description" type="text" class="teal-text text-darken-3">
        <label for="update-task-description" class="update-label teal-text text-accent-4">Notes</label>
      </div>
      <div class="input-field">
        <input id="update-task-date" type="text" class="datepicker">
        <label for="update-task-date" class="update-label teal-text text-accent-4">Date</label>
      </div>
      <div class="input-field">
        <input id="update-task-time" type="text" class="timepicker">
        <label for="update-task-time" class="update-label teal-text text-accent-4">Time</label>
      </div>
    </div>
    <div class="has-padding">
      <button type="submit" class="waves-effect waves-light btn teal accent-4 full-width">
        UPDATE TASK
      </button>
    </div>
    </form>
    <div class="has-padding">
      <button href="#modal-confirm-delete" class="modal-trigger waves-effect waves-light btn red accent-2 full-width">
        DELETE TASK
      </button>
    </div>
  </div>

  <div id="modal-confirm-delete" class="modal modal-confirm has-margin-t has-padding center-text">
    Delete this task?
    <hr>
    <button class="modal-close waves-effect waves-green btn-flat full-width">
      KEEP EDITING
    </button>
    <button id="delete-from-update" class="modal-close waves-effect waves-light btn red accent-2 full-width">
      DELETE
    </button>
  </div>

  <div id="modal-confirm-delete-project" class="modal modal-confirm has-margin-t has-padding center-text">
    Delete this project?
    <hr>
    <input id="delete-project-id" type="hidden">
    <button class="modal-close waves-effect waves-green btn-flat full-width">
      CANCEL
    </button>
    <button id="delete-project" class="modal-close waves-effect waves-light btn red accent-2 full-width">
      DELETE
    </button>
  </div>

  <div id="modal-add-by-project" class="modal modal-input">
    <form id="add-project-task">
      <div class="modal-content">
        <div class="input-field">
          <input id="curr-project-id" type="hidden" class="teal-text text-darken-3">
        </div>
        <div class="input-field">
          <input id="add-project-task-name" type="text" class="teal-text text-darken-3">
          <label for="add-project-task-name" class="teal-text text-accent-4">Name</label>
        </div>
        <div class="input-field">
          <input id="add-project-task-description" type="text" class="teal-text text-darken-3">
          <label for="add-project-task-description" class="teal-text text-accent-4">Notes</label>
        </div>
        <div class="input-field">
          <input id="add-project-task-date" type="text" class="datepicker">
          <label for="add-project-task-date" class="teal-text text-accent-4">Date</label>
        </div>
        <div class="input-field">
          <input id="add-project-task-time" type="text" class="timepicker">
          <label for="add-project-task-time" class="teal-text text-accent-4">Time</label>
        </div>
      </div>
      <div class="has-padding">
        <button type="submit" class="waves-effect waves-light btn teal accent-4 full-width">
          ADD NEW TASK
        </button>
      </div>
    </form>
    </div>
  </div>

  <div id="modal-add-member" class="modal">
    <form id="add-member">
      <div class="modal-content">
        <div id="users-container" class="input-field col s12">
          <p>
            <label>
              <input type="checkbox" class="filled-in member-checkbox" name="checkbox-member" value="5dbd0dece282ea020c996d6f"/>
              <span>baru@baru.com</span>
            </label>
          </p>
          <p>
            <label>
              <input type="checkbox" class="filled-in member-checkbox" name="checkbox-member" value="5dbe2226793afe40e64b2070"/>
              <span>post@man.com</span>
            </label>
          </p>
        </div>
      </div>
      <div class="has-padding">
        <button type="submit" class="waves-effect waves-light btn teal accent-4 full-width">
          ADD MEMBER
        </button>
      </div>
    </form>
  </div>

  <!--JavaScript at end of body for optimized loading-->
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
  <script>
  function onSuccess(googleUser) {
    onSignIn(googleUser)
  }
  function onFailure(error) {
    showAlert(error);
  }
  function renderButton() {
    gapi.signin2.render('my-signin2', {
      'scope': 'profile email',
      'width': 250,
      'height': 40,
      'longtitle': true,
      'theme': 'light',
      'onsuccess': onSuccess,
      'onfailure': onFailure
    });
  }
  </script>
  <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
  <script src="index.js"></script>
  </body>
</html>